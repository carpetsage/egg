import { ei } from 'lib';
import { farmResearch } from './common';
import { researchPriceMultiplierFromArtifacts } from '../effects';
import { Artifact } from '../types';

export function researchPriceMultiplierFromResearches(farm: ei.Backup.ISimulation, progress: ei.Backup.IGame): number {
  const research = farmResearch(farm, progress, {
    id: 'cheaper_research',
    name: 'Lab Upgrade',
    maxLevel: 10,
    perLevel: -0.05,
  });
  return 1 + (research ? research.level * research.perLevel : 0);
}

/**
 * Calculate the total research price multiplier from all sources.
 * @param farm - The farm simulation data
 * @param progress - The game progress data
 * @param artifacts - The artifacts to consider
 * @param researchCostModifier - The research cost modifier from colleggtibles (default: 1)
 * @param eventMultiplier - Optional event multiplier for research prices (default: 1)
 * @returns The combined research price multiplier
 */
export function researchPriceMultiplier(
  farm: ei.Backup.ISimulation,
  progress: ei.Backup.IGame,
  artifacts: Artifact[],
  researchCostModifier: number = 1,
  eventMultiplier: number = 1
): number {
  return (
    researchPriceMultiplierFromResearches(farm, progress) *
    researchPriceMultiplierFromArtifacts(artifacts) *
    researchCostModifier *
    eventMultiplier
  );
}

interface ResearchItem {
  id: string;
  name: string;
  maxLevel: number;
  perLevel: number;
  multiplicative: number;
  prices: number[];
}

// levels of research need to unlock each research tier
export const tierThresholds = [0, 30, 80, 160, 280, 400, 520, 650, 800, 980, 1185, 1390, 1655] as const;

export const fullResearchCostsList: ResearchItem[] = [
  {
    id: 'comfy_nests',
    name: 'Comfortable Nests',
    maxLevel: 50,
    perLevel: 0.1,
    multiplicative: 1,
    prices: [
      0.5, 3.26, 6.7, 11.38, 17.2, 25.02, 34.84, 47.8, 64.28, 85.66, 113.14, 148.26, 193.86, 250, 326, 420, 544, 696,
      900, 1150, 1480, 1890, 2424, 3094, 3956, 5050, 6436, 8216, 10444, 13332, 16908, 21586, 27322, 34880, 44090, 56256,
      71176, 90580, 114704, 145624, 184558, 233786, 296512, 374840, 475718, 600292, 762240, 960304, 1219858, 1534724,
    ],
  },
  {
    id: 'nutritional_sup',
    name: 'Nutritional Supplements',
    maxLevel: 40,
    perLevel: 0.25,
    multiplicative: 1,
    prices: [
      2.16, 19, 42.92, 76.52, 125.74, 194.34, 290, 430, 622, 896, 1282, 1814, 2574, 3632, 5086, 7170, 10032, 13988,
      19614, 27292, 38006, 53016, 73462, 102240, 142008, 196140, 272864, 377630, 520704, 723452, 998126, 1377486,
      1907350, 2624578, 3625034, 5004204, 6870708, 9496088, 13073372, 17917170,
    ],
  },
  {
    id: 'better_incubators',
    name: 'Better Incubators',
    maxLevel: 15,
    perLevel: 0.1,
    multiplicative: 1,
    prices: [18.3, 39.66, 71.04, 117.06, 185.72, 286, 434, 648, 970, 1434, 2102, 3086, 4522, 6582, 9542],
  },
  {
    id: 'excitable_chickens',
    name: 'Excitable Chickens',
    maxLevel: 25,
    perLevel: 0.001,
    multiplicative: 0,
    prices: [
      1.06, 71.02, 268, 812, 2288, 6238, 16700, 44164, 115762, 302328, 785228, 2027428, 5207840, 13317216, 33920542,
      86106606, 217950000, 552396000, 1396514000, 3520000000, 8850000000, 22198000000, 55562000000, 138808000000,
      346260000000,
    ],
  },
  {
    id: 'hab_capacity1',
    name: 'Hen House Remodel',
    maxLevel: 8,
    perLevel: 0.05,
    multiplicative: 1,
    prices: [550, 1146, 2326, 4630, 9142, 18000, 35140, 67994],
  },
  {
    id: 'internal_hatchery1',
    name: 'Internal Hatcheries',
    maxLevel: 10,
    perLevel: 2,
    multiplicative: 0,
    prices: [1836, 7686, 29954, 114316, 426226, 1573968, 5748386, 20783624, 74943712, 226696000],
  },
  {
    id: 'padded_packaging',
    name: 'Padded Packaging',
    maxLevel: 30,
    perLevel: 0.25,
    multiplicative: 1,
    prices: [
      454986, 651190, 926362, 1312450, 1870836, 2657932, 3759420, 5338110, 7577306, 10704568, 15142312, 21482284,
      30323050, 42734746, 60609878, 85507574, 120226920, 170273500, 240152000, 337410000, 476532000, 672042000,
      943766000, 1329056000, 1874526000, 2632000000, 3696000000, 5214000000, 7318000000, 10224000000,
    ],
  },
  {
    id: 'hatchery_expansion',
    name: 'Hatchery Expansion',
    maxLevel: 10,
    perLevel: 10,
    multiplicative: 0,
    prices: [73.22, 660, 3142, 12922, 54362, 216196, 843940, 3285652, 12598818, 47779124],
  },
  {
    id: 'bigger_eggs',
    name: 'Bigger Eggs',
    maxLevel: 1,
    perLevel: 2,
    multiplicative: 1,
    prices: [1351894],
  },
  {
    id: 'internal_hatchery2',
    name: 'Internal Hatchery Upgrades',
    maxLevel: 10,
    perLevel: 5,
    multiplicative: 0,
    prices: [
      16029660, 90898308, 505872000, 2802000000, 15362000000, 83632000000, 454052000000, 2440000000000, 13154000000000,
      70026000000000,
    ],
  },
  {
    id: 'leafsprings',
    name: 'Improved Leafsprings',
    maxLevel: 30,
    perLevel: 0.05,
    multiplicative: 1,
    prices: [
      3205932, 5132370, 8205956, 13104442, 20903310, 33307816, 53019802, 84317224, 133969390, 212682000, 337376000,
      534790000, 847154000, 1341140000, 2122000000, 3360000000, 5324000000, 8428000000, 13334000000, 21080000000,
      33308000000, 52594000000, 83000000000, 130912000000, 206374000000, 325182000000, 512164000000, 806336000000,
      1269020000000, 1996580000000,
    ],
  },
  {
    id: 'vehicle_reliablity',
    name: 'Vehicle Reliability',
    maxLevel: 2,
    perLevel: 1,
    multiplicative: 0,
    prices: [324182000, 26456000000000],
  },
  {
    id: 'rooster_booster',
    name: 'Rooster Booster',
    maxLevel: 25,
    perLevel: 0.05,
    multiplicative: 1,
    prices: [
      4007414, 8392028, 17393238, 36178146, 74824346, 154733500, 319492000, 657386000, 1355498000, 2778000000,
      5720000000, 11674000000, 24016000000, 48942000000, 100414000000, 204660000000, 418284000000, 852674000000,
      1736630000000, 3540000000000, 7188000000000, 14658000000000, 29680000000000, 60518000000000, 122254000000000,
    ],
  },
  {
    id: 'coordinated_clucking',
    name: 'Coordinated Clucking',
    maxLevel: 50,
    perLevel: 0.2,
    multiplicative: 0,
    prices: [
      568732, 824174, 1187858, 1705236, 2455512, 3537720, 5073586, 7256094, 10456400, 14992770, 21418888, 30698734,
      44032966, 62888052, 89585858, 128599970, 183726200, 261576000, 373654000, 534246000, 760716000, 1080530000,
      1546682000, 2204000000, 3130000000, 4460000000, 6360000000, 9036000000, 12806000000, 18290000000, 26008000000,
      36860000000, 52418000000, 74624000000, 105822000000, 149718000000, 213466000000, 303024000000, 428784000000,
      608812000000, 865414000000, 1225444000000, 1731298000000, 2464000000000, 3494000000000, 4938000000000,
      7002000000000, 9942000000000, 14060000000000, 19842000000000,
    ],
  },
  {
    id: 'hatchery_rebuild1',
    name: 'Hatchery Rebuild',
    maxLevel: 1,
    perLevel: 50,
    multiplicative: 0,
    prices: [186912000000],
  },
  {
    id: 'usde_prime',
    name: 'USDE Prime Certification',
    maxLevel: 1,
    perLevel: 3,
    multiplicative: 1,
    prices: [32318000000000],
  },
  {
    id: 'hen_house_ac',
    name: 'Hen House A/C',
    maxLevel: 50,
    perLevel: 0.05,
    multiplicative: 1,
    prices: [
      2986194, 4075780, 5521346, 7494766, 10185118, 13758710, 18728938, 25357212, 34313158, 46620854, 62932940,
      85444922, 115654680, 156034550, 212012000, 286076000, 387420000, 524390000, 705968000, 958734000, 1292870000,
      1747248000, 2366000000, 3184000000, 4314000000, 5802000000, 7844000000, 10622000000, 14292000000, 19330000000,
      26088000000, 35062000000, 47508000000, 63930000000, 86274000000, 116482000000, 156404000000, 211730000000,
      284982000000, 383740000000, 518378000000, 696038000000, 940576000000, 1266480000000, 1701532000000, 2300000000000,
      3088000000000, 4166000000000, 5612000000000, 7524000000000,
    ],
  },
  {
    id: 'superfeed',
    name: 'Super-Feed™ Diet',
    maxLevel: 35,
    perLevel: 0.25,
    multiplicative: 1,
    prices: [
      530550000, 745884000, 1042738000, 1452562000, 2218000000, 2850000000, 3966000000, 5558000000, 7764000000,
      10802000000, 15118000000, 21112000000, 29358000000, 41028000000, 57278000000, 79620000000, 111118000000,
      155102000000, 215530000000, 300384000000, 419242000000, 582438000000, 810632000000, 1131344000000, 1571444000000,
      2184000000000, 3048000000000, 4234000000000, 5876000000000, 8202000000000, 11390000000000, 15788000000000,
      22038000000000, 30604000000000, 42366000000000,
    ],
  },
  {
    id: 'microlux',
    name: 'Microlux™ Chicken Suites',
    maxLevel: 10,
    perLevel: 0.05,
    multiplicative: 1,
    prices: [
      682998000, 1735576000, 4400000000, 11126000000, 28076000000, 70714000000, 177788000000, 446286000000,
      1118722000000, 2802000000000,
    ],
  },
  {
    id: 'compact_incubators',
    name: 'Compact Incubators',
    maxLevel: 10,
    perLevel: 10,
    multiplicative: 0,
    prices: [
      2366000000, 15362000000, 98726000000, 628908000000, 3978000000000, 25118000000000, 158198000000000,
      990208000000000, 6166000000000000, 38242000000000000,
    ],
  },
  {
    id: 'lightweight_boxes',
    name: 'Lightweight Boxes',
    maxLevel: 40,
    perLevel: 0.1,
    multiplicative: 1,
    prices: [
      692520000000, 975624000000, 1367744000000, 1911138000000, 2686000000000, 3768000000000, 5266000000000,
      7386000000000, 10368000000000, 14492000000000, 20270000000000, 28476000000000, 39824000000000, 55544000000000,
      78102000000000, 109292000000000, 152444000000000, 213914000000000, 299558000000000, 417932000000000,
      585112000000000, 820030000000000, 1144544000000000, 1598370000000000, 2242000000000000, 3132000000000000,
      4360000000000000, 6124000000000000, 8556000000000000, 11920000000000000, 16704000000000000, 23360000000000000,
      32550000000000000, 45514000000000000, 63710000000000000, 88980000000000000, 123890000000000000,
      173584000000000000, 242140000000000000, 336872000000000000,
    ],
  },
  {
    id: 'excoskeletons',
    name: 'Depot Worker Exoskeletons',
    maxLevel: 2,
    perLevel: 1,
    multiplicative: 0,
    prices: [868122000000, 693226000000000000],
  },
  {
    id: 'internal_hatchery3',
    name: 'Internal Hatchery Expansion',
    maxLevel: 15,
    perLevel: 10,
    multiplicative: 0,
    prices: [
      2886000000000, 7662000000000, 20318000000000, 53810000000000, 142350000000000, 376172000000000, 993062000000000,
      2620000000000000, 6902000000000000, 18170000000000000, 47802000000000000, 125660000000000000, 330094000000000000,
      866534000000000000, 2274000000000000000,
    ],
  },
  {
    id: 'improved_genetics',
    name: 'Improved Genetics',
    maxLevel: 30,
    perLevel: 0.15,
    multiplicative: 1,
    prices: [
      7488000000000, 10880000000000, 15762000000000, 22772000000000, 32848000000000, 47662000000000, 69024000000000,
      99692000000000, 143726000000000, 208232000000000, 301502000000000, 435336000000000, 627370000000000,
      907558000000000, 1313886000000000, 1896726000000000, 2732000000000000, 3946000000000000, 5714000000000000,
      8246000000000000, 11878000000000000, 17130000000000000, 24796000000000000, 35788000000000000, 51534000000000000,
      74206000000000000, 107422000000000000, 155034000000000000, 223210000000000000, 320922000000000000,
    ],
  },
  {
    id: 'traffic_management',
    name: 'Traffic Management',
    maxLevel: 2,
    perLevel: 1,
    multiplicative: 0,
    prices: [5376000000000000, 134432000000000000000],
  },
  {
    id: 'motivational_clucking',
    name: 'Motivational Clucking',
    maxLevel: 50,
    perLevel: 0.5,
    multiplicative: 0,
    prices: [
      149718000000, 303024000000, 608812000000, 1225444000000, 2464000000000, 4938000000000, 9942000000000,
      19842000000000, 39956000000000, 79898000000000, 160100000000000, 320662000000000, 639804000000000,
      1282998000000000, 2552000000000000, 5120000000000000, 10202000000000000, 20376000000000000, 40684000000000000,
      80936000000000000, 161832000000000000, 320922000000000000, 642248000000000000, 1276658000000000000,
      2544000000000000000, 5066000000000000000, 10056000000000000000, 20064000000000000000, 39704000000000000000,
      79296000000000000000, 157312000000000000000, 312834000000000000000, 621970000000000000000, 1.23233e21, 2.454e21,
      4.848e21, 9.668e21, 1.915e22, 3.8022e22, 7.548e22, 1.49338e23, 2.97e23, 5.85954e23, 1.16674e24, 2.308e24,
      4.576e24, 9.074e24, 1.7934e25, 3.5624e25, 7.0202e25,
    ],
  },
  {
    id: 'driver_training',
    name: 'Driver Training',
    maxLevel: 30,
    perLevel: 0.05,
    multiplicative: 1,
    prices: [
      11472000000000000, 16620000000000000, 24002000000000000, 34574000000000000, 49728000000000000, 71948000000000000,
      103904000000000000, 149664000000000000, 215202000000000000, 310968000000000000, 449102000000000000,
      646850000000000000, 929934000000000000, 1342006000000000000, 1938268000000000000, 2792000000000000000,
      4012000000000000000, 5784000000000000000, 8354000000000000000, 12032000000000000000, 17294000000000000000,
      24890000000000000000, 35958000000000000000, 51796000000000000000, 74442000000000000000, 106992000000000000000,
      154592000000000000000, 222704000000000000000, 320072000000000000000, 459380000000000000000,
    ],
  },
  {
    id: 'shell_fortification',
    name: 'Shell Fortification',
    maxLevel: 60,
    perLevel: 0.15,
    multiplicative: 1,
    prices: [
      14738000000000000, 18938000000000000, 24104000000000000, 30964000000000000, 39414000000000000, 50616000000000000,
      64436000000000000, 82724000000000000, 105326000000000000, 135174000000000000, 172134000000000000,
      220840000000000000, 281268000000000000, 360728000000000000, 459512000000000000, 589120000000000000,
      750588000000000000, 961948000000000000, 1225840000000000000, 1570446000000000000, 2002000000000000000,
      2564000000000000000, 3268000000000000000, 4184000000000000000, 5334000000000000000, 6826000000000000000,
      8708000000000000000, 11138000000000000000, 14210000000000000000, 18168000000000000000, 23184000000000000000,
      29632000000000000000, 37824000000000000000, 48322000000000000000, 61700000000000000000, 78792000000000000000,
      100630000000000000000, 128452000000000000000, 164104000000000000000, 209384000000000000000, 267580000000000000000,
      341260000000000000000, 436244000000000000000, 556118000000000000000, 711132000000000000000, 906134000000000000000,
      1.159088e21, 1.476254e21, 1.888984e21, 2.404e21, 3.078e21, 3.916e21, 5.016e21, 6.378e21, 8.17e21, 1.0386e22,
      1.331e22, 1.6912e22, 2.1678e22, 2.7532e22,
    ],
  },
  {
    id: 'egg_loading_bots',
    name: 'Egg Loading Bots',
    maxLevel: 2,
    perLevel: 1,
    multiplicative: 0,
    prices: [3.878e21, 9.0426e25],
  },
  {
    id: 'super_alloy',
    name: 'Super Alloy Frames',
    maxLevel: 50,
    perLevel: 0.05,
    multiplicative: 1,
    prices: [
      144932000000000000000, 189796000000000000000, 246460000000000000000, 322220000000000000000, 419010000000000000000,
      546694000000000000000, 712124000000000000000, 926872000000000000000, 1.209762e21, 1.57052e21, 2.054e21, 2.666e21,
      3.486e21, 4.528e21, 5.912e21, 7.694e21, 1.002e22, 1.3064e22, 1.6972e22, 2.2172e22, 2.875e22, 3.7614e22, 4.8826e22,
      6.3772e22, 8.2904e22, 1.08054e23, 1.4072e23, 1.82966e23, 2.38756e23, 3.0961e23, 4.04896e23, 5.25196e23,
      6.86274e23, 8.91386e23, 1.162508e24, 1.512466e24, 1.967994e24, 2.566e24, 3.33e24, 4.235e24, 5.638e24, 7.37e24,
      9.564e24, 1.2408e25, 1.6222e25, 2.1124e25, 2.7508e25, 3.573e25, 4.66e25, 6.0284e25,
    ],
  },
  {
    id: 'even_bigger_eggs',
    name: 'Even Bigger Eggs',
    maxLevel: 5,
    perLevel: 2,
    multiplicative: 1,
    prices: [28608000000000000000, 1.485e22, 7.568e24, 3.732e27, 1.678866e30],
  },
  {
    id: 'internal_hatchery4',
    name: 'Internal Hatchery Expansion',
    maxLevel: 30,
    perLevel: 25,
    multiplicative: 0,
    prices: [
      330094000000000000, 713198000000000000, 1528768000000000000, 3290000000000000000, 7066000000000000000,
      15130000000000000000, 32578000000000000000, 69648000000000000000, 149826000000000000000, 320868000000000000000,
      686518000000000000000, 1.47535e21, 3.148e21, 6.768e21, 1.446e22, 3.0976e22, 6.633e22, 1.41402e23, 3.03676e23,
      6.47376e23, 1.387286e24, 2.964e24, 6.322e24, 1.3546e25, 2.8824e25, 6.1786e25, 1.31698e26, 2.79722e26, 5.92344e26,
      1.24466e27,
    ],
  },
  {
    id: 'quantum_storage',
    name: 'Quantum Egg Storage',
    maxLevel: 20,
    perLevel: 0.05,
    multiplicative: 1,
    prices: [
      5.09e23, 1.757924e24, 6.022e24, 2.0718e25, 7.0518e25, 2.37386e26, 8.00232e26, 2.678e27, 9.082e27, 3.0262e28,
      1.01712e29, 3.4178e29, 1.144326e30, 3.856e30, 1.291e31, 4.348e31, 1.45848e32, 4.896e32, 1.646782e33, 5.504e33,
    ],
  },
  {
    id: 'genetic_purification',
    name: 'Genetic Purification',
    maxLevel: 100,
    perLevel: 0.1,
    multiplicative: 1,
    prices: [
      112026000000000000000, 160340000000000000000, 228676000000000000000, 325248000000000000000, 462760000000000000000,
      661690000000000000000, 942912000000000000000, 1.340276e21, 1.90941e21, 2.728e21, 3.884e21, 5.518e21, 7.87e21,
      1.1232e22, 1.5982e22, 2.2694e22, 3.2406e22, 4.621e22, 6.5706e22, 9.3258e22, 1.33302e23, 1.89936e23, 2.69892e23,
      3.83484e23, 5.4785e23, 7.80002e23, 1.107714e24, 1.560086e24, 2.25e24, 3.2e24, 4.542e24, 6.472e24, 9.23e24,
      1.3122e25, 1.8618e25, 2.6556e25, 3.7842e25, 5.3754e25, 7.6102e25, 1.08328e26, 1.53642e26, 2.17188e26, 3.06736e26,
      4.35596e26, 6.16422e26, 8.70006e26, 1.229574e27, 1.74391e27, 2.466e27, 3.478e27, 4.92e27, 6.974e27, 9.852e27,
      1.3892e28, 1.9682e28, 2.7876e28, 3.9364e28, 5.5486e28, 7.8714e28, 1.11406e29, 1.5725e29, 2.21772e29, 3.14732e29,
      4.4519e29, 6.28138e29, 8.87234e29, 1.258288e30, 1.77886e30, 2.508e30, 3.55e30, 5.03e30, 7.108e30, 1.0022e31,
      1.4194e31, 2.0104e31, 2.8394e31, 4.0024e31, 5.6764e31, 8.035e31, 1.13426e32, 1.59914e32, 2.26978e32, 3.21096e32,
      4.53084e32, 6.39778e32, 9.07464e32, 1.283036e33, 1.809758e33, 2.56e33, 3.628e33, 5.126e33, 7.228e33, 1.0234e34,
      1.449e34, 2.0444e34, 2.8768e34, 4.068e34, 5.7382e34, 8.0642e34, 1.13022e35,
    ],
  },
  {
    id: 'internal_hatchery5',
    name: 'Machine Learning Incubators',
    maxLevel: 250,
    perLevel: 5,
    multiplicative: 0,
    prices: [
      1.4517e23, 1.6151e23, 1.79516e23, 1.99186e23, 2.20522e23, 2.44318e23, 2.7174e23, 3.01848e23, 3.34646e23,
      3.7013e23, 4.11118e23, 4.57064e23, 5.07346e23, 5.61968e23, 6.21764e23, 6.9164e23, 7.68516e23, 8.5239e23,
      9.43264e23, 1.046106e24, 1.163266e24, 1.291718e24, 1.431462e24, 1.582498e24, 1.759736e24, 1.955878e24, 2.17e24,
      2.402e24, 2.66e24, 2.96e24, 3.288e24, 3.644e24, 4.032e24, 4.476e24, 4.976e24, 5.524e24, 6.118e24, 6.766e24,
      7.526e24, 8.364e24, 9.276e24, 1.0266e25, 1.138e25, 1.2654e25, 1.4052e25, 1.5572e25, 1.7216e25, 1.9136e25,
      2.1268e25, 2.36e25, 2.613e25, 2.8852e25, 3.2162e25, 3.5712e25, 3.9576e25, 4.3752e25, 4.8518e25, 5.389e25,
      5.9764e25, 6.6138e25, 7.3044e25, 8.115e25, 9.0056e25, 9.9762e25, 1.10268e26, 1.22024e26, 1.35486e26, 1.5023e26,
      1.66254e26, 1.83556e26, 2.0361e26, 2.25942e26, 2.50322e26, 2.76748e26, 3.05766e26, 3.39486e26, 3.7648e26,
      4.1675e26, 4.60296e26, 5.0974e26, 5.65714e26, 6.26926e26, 6.93378e26, 7.65068e26, 8.4894e26, 9.42272e26,
      1.043444e27, 1.152996e27, 1.274984e27, 1.415218e27, 1.568858e27, 1.735902e27, 1.91635e27, 2.124e27, 2.358e27,
      2.612e27, 2.886e27, 3.188e27, 3.54e27, 3.924e27, 4.344e27, 4.798e27, 5.312e27, 5.894e27, 6.532e27, 7.226e27,
      7.972e27, 8.848e27, 9.816e27, 1.087e28, 1.2012e28, 1.3278e28, 1.4738e28, 1.634e28, 1.8082e28, 1.9962e28,
      2.2122e28, 2.4546e28, 2.7194e28, 3.0066e28, 3.3192e28, 3.685e28, 4.0866e28, 4.5242e28, 4.9976e28, 5.53e28,
      6.1374e28, 6.8022e28, 7.5244e28, 8.3042e28, 9.2126e28, 1.02198e29, 1.1319e29, 1.251e29, 1.38238e29, 1.53452e29,
      1.70134e29, 1.88288e29, 2.0791e29, 2.30304e29, 2.55554e29, 2.83154e29, 3.13104e29, 3.45556e29, 3.83646e29,
      4.25496e29, 4.71106e29, 5.20478e29, 5.75718e29, 6.38984e29, 7.08264e29, 7.8356e29, 8.64872e29, 9.59106e29,
      1.064046e30, 1.178606e30, 1.30279e30, 1.439148e30, 1.5976e30, 1.77144e30, 1.960672e30, 2.166e30, 2.398e30,
      2.66e30, 2.948e30, 3.26e30, 3.598e30, 3.994e30, 4.43e30, 4.906e30, 5.42e30, 5.994e30, 6.652e30, 7.374e30, 8.16e30,
      9.008e30, 9.986e30, 1.1078e31, 1.2272e31, 1.3568e31, 1.4982e31, 1.6632e31, 1.8444e31, 2.0416e31, 2.255e31,
      2.4962e31, 2.7702e31, 3.0698e31, 3.3954e31, 3.7468e31, 4.1582e31, 4.6126e31, 5.108e31, 5.6448e31, 6.2398e31,
      6.8722e31, 7.6784e31, 8.4968e31, 9.381e31, 1.03952e32, 1.15342e32, 1.27786e32, 1.41286e32, 1.55976e32, 1.73164e32,
      1.92038e32, 2.126e32, 2.34848e32, 2.59864e32, 2.88404e32, 3.19646e32, 3.53584e32, 3.90224e32, 4.3291e32,
      4.80242e32, 5.31892e32, 5.87858e32, 6.49598e32, 7.21088e32, 7.99484e32, 8.84786e32, 9.76996e32, 1.082228e33,
      1.200878e33, 1.330574e33, 1.471316e33, 1.623812e33, 1.802796e33, 1.999454e33, 2.214e33, 2.446e33, 2.706e33,
      3.002e33, 3.292e33, 3.682e33, 4.064e33, 4.506e33, 5e33, 5.538e33, 6.12e33, 6.762e33, 7.504e33, 8.32e33, 9.206e33,
      1.0164e34, 1.1252e34, 1.248e34, 1.3822e34, 1.5278e34, 1.6848e34,
    ],
  },
  {
    id: 'time_compress',
    name: 'Time Compression',
    maxLevel: 20,
    perLevel: 0.1,
    multiplicative: 1,
    prices: [
      3.4476e22, 1.19228e23, 4.08948e23, 1.40865e24, 4.838e24, 1.6586e25, 5.6868e25, 1.91384e26, 6.4639e26, 2.168e27,
      7.286e27, 2.4486e28, 8.1982e28, 2.76322e29, 9.2485e29, 3.116e30, 1.045e31, 3.5076e31, 1.1798e32, 3.94462e32,
    ],
  },
  {
    id: 'hover_upgrades',
    name: 'Hover Upgrades',
    maxLevel: 25,
    perLevel: 0.05,
    multiplicative: 1,
    prices: [
      1.224072e27, 3.262e27, 8.688e27, 2.3138e28, 6.161e28, 1.64018e29, 4.36546e29, 1.161574e30, 3.09e30, 8.216e30,
      2.1842e31, 5.804e31, 1.5417e32, 4.10662e32, 1.093806e33, 2.914e33, 7.754e33, 2.055e34, 5.4078e34, 1.41068e35,
      3.64546e35, 9.32784e35, 2.362e36, 5.92e36, 1.471e37,
    ],
  },
  {
    id: 'graviton_coating',
    name: 'Graviton Coating',
    maxLevel: 7,
    perLevel: 2,
    multiplicative: 1,
    prices: [7.8316e28, 2.7924e31, 9.862e33, 3.394e36, 8.68656e38, 1.54198e41, 3.3918e43],
  },
  {
    id: 'grav_plating',
    name: 'Grav Plating',
    maxLevel: 25,
    perLevel: 0.02,
    multiplicative: 1,
    prices: [
      2.4538e31, 4.1692e31, 7.0824e31, 1.20268e32, 2.04122e32, 3.4623e32, 5.86862e32, 9.9397e32, 1.682114e33, 2.858e33,
      4.856e33, 8.244e33, 1.3984e34, 2.3676e34, 3.9984e34, 6.733e34, 1.13022e35, 1.89988e35, 3.1845e35, 5.32112e35,
      8.86206e35, 1.470874e36, 2.432e36, 4.008e36, 6.582e36,
    ],
  },
  {
    id: 'chrystal_shells',
    name: 'Crystalline Shelling',
    maxLevel: 100,
    perLevel: 0.25,
    multiplicative: 1,
    prices: [
      2.4606e29, 3.20952e29, 4.15288e29, 5.40736e29, 7.00794e29, 9.105e29, 1.182266e30, 1.532172e30, 1.993792e30,
      2.576e30, 3.36e30, 4.348e30, 5.662e30, 7.338e30, 9.534e30, 1.238e31, 1.6044e31, 2.0878e31, 2.698e31, 3.5192e31,
      4.5536e31, 5.9292e31, 7.6842e31, 9.9836e31, 1.29636e32, 1.68004e32, 2.1862e32, 2.82528e32, 3.68516e32, 4.76832e32,
      6.2087e32, 8.04648e32, 1.044343e33, 1.357468e33, 1.759226e33, 2.29e33, 2.958e33, 3.858e33, 4.994e33, 6.502e33,
      8.426e33, 1.0948e34, 1.4214e34, 1.8422e34, 2.3972e34, 3.098e34, 4.0404e34, 5.227e34, 6.8024e34, 8.8092e34,
      1.14308e35, 1.4818e35, 1.91614e35, 2.48666e35, 3.2032e35, 4.16152e35, 5.36128e35, 6.94434e35, 8.94956e35,
      1.15525e36, 1.489668e36, 1.915758e36, 2.472e36, 3.166e36, 4.09e36, 5.382e36, 6.742e36, 8.638e36, 1.108e37,
      1.42e37, 1.8146e37, 2.3266e37, 2.9614e37, 3.7992e37, 4.8348e37, 6.182e37, 7.8674e37, 1.00234e38, 1.2758e38,
      1.61922e38, 2.06152e38, 2.60596e38, 3.31896e38, 4.194e38, 5.32324e38, 6.72554e38, 8.50496e38, 1.074494e39,
      1.353492e39, 1.710026e39, 2.146e39, 2.71e39, 3.398e39, 4.28e39, 5.364e39, 6.728e39, 8.43e39, 1.0532e40, 1.3194e40,
      1.6414e40,
    ],
  },
  {
    id: 'autonomous_vehicles',
    name: 'Autonomous Vehicles',
    maxLevel: 5,
    perLevel: 1,
    multiplicative: 0,
    prices: [5.13904e32, 7.1236e34, 8.456e36, 7.77874e38, 5.9482e40],
  },
  {
    id: 'neural_linking',
    name: 'Neural Linking',
    maxLevel: 30,
    perLevel: 50,
    multiplicative: 0,
    prices: [
      7.02028e26, 7.468e27, 7.8316e28, 8.20202e29, 8.588e30, 8.9936e31, 9.4176e32, 9.862e33, 1.03264e35, 1.067732e36,
      1.0556e37, 9.8716e37, 8.68656e38, 7.152e39, 5.4714e40, 4.46118e41, 3.876e42, 3.3918e43, 2.97118e44, 2.604e45,
      2.2804e46, 1.99794e47, 1.750396e48, 1.5336e49, 1.34352e50, 1.177054e51, 1.0312e52, 9.0344e52, 7.9151e53,
      6.9348e54,
    ],
  },
  {
    id: 'telepathic_will',
    name: 'Telepathic Will',
    maxLevel: 50,
    perLevel: 0.25,
    multiplicative: 1,
    prices: [
      4.222e36, 6.696e36, 1.0596e37, 1.6724e37, 2.6232e37, 4.136e37, 6.4794e37, 1.01246e38, 1.57786e38, 2.45238e38,
      3.8012e38, 5.87538e38, 9.05558e38, 1.391664e39, 2.132e39, 3.384e39, 4.962e39, 7.532e39, 1.1398e40, 1.7192e40,
      2.5892e40, 3.937e40, 6.0358e40, 9.3044e40, 1.43946e41, 2.2321e41, 3.46646e41, 5.3886e41, 8.38174e41, 1.30425e42,
      2.03e42, 3.16e42, 4.92e42, 7.66e42, 1.1926e43, 1.8568e43, 2.8908e43, 4.501e43, 7.0078e43, 1.09108e44, 1.69864e44,
      2.64456e44, 4.11718e44, 6.4097e44, 9.97852e44, 1.553416e45, 2.418e45, 3.764e45, 5.86e45, 9.122e45,
    ],
  },
  {
    id: 'enlightened_chickens',
    name: 'Enlightened Chickens',
    maxLevel: 150,
    perLevel: 2,
    multiplicative: 0,
    prices: [
      1.0942e40, 1.5206e40, 2.1236e40, 2.976e40, 4.1798e40, 5.8798e40, 8.3234e40, 1.17884e41, 1.66854e41, 2.36022e41,
      3.33708e41, 4.73756e41, 6.72812e41, 9.54188e41, 1.35163e42, 1.912916e42, 2.716e42, 3.86e42, 5.476e42, 7.76e42,
      1.0984e43, 1.5584e43, 2.2152e43, 3.1442e43, 4.4564e43, 6.3094e43, 8.9446e43, 1.27182e44, 1.8055e44, 2.5595e44,
      3.62432e44, 5.134e44, 7.30176e44, 1.036786e45, 1.470024e45, 2.082e45, 2.946e45, 4.192e45, 5.954e45, 8.442e45,
      1.1958e46, 1.6924e46, 2.4066e46, 3.4186e46, 4.8488e46, 6.869e46, 9.722e46, 1.3815e47, 1.9629e47, 2.78472e47,
      3.9455e47, 5.58482e47, 7.93044e47, 1.12705e48, 1.599232e48, 2.266e48, 3.208e48, 4.552e48, 6.472e48, 9.184e48,
      1.3016e49, 1.8428e49, 2.613e49, 3.7152e49, 5.274e49, 7.4762e49, 1.0586e50, 1.49986e50, 2.13304e50, 3.02856e50,
      4.2939e50, 6.0809e50, 8.60876e50, 1.224588e51, 1.73909e51, 2.466e51, 3.492e51, 4.944e51, 7.03e51, 9.986e51,
      1.4164e52, 2.0064e52, 2.8396e52, 4.0358e52, 5.734e52, 8.1342e52, 1.15244e53, 1.63124e53, 2.31676e53, 3.29232e53,
      4.67142e53, 6.61946e53, 9.37056e53, 1.329898e54, 1.890332e54, 2.682e54, 3.802e54, 5.382e54, 7.634e54, 1.0854e55,
      1.5406e55, 2.1838e55, 3.092e55, 4.3818e55, 6.2312e55, 8.8468e55, 1.25424e56, 1.77616e56, 2.51502e56, 3.57372e56,
      5.0801e56, 7.20356e56, 1.02025e57, 1.443824e57, 2.054e57, 2.918e57, 4.138e57, 5.86e57, 8.294e57, 1.179e58,
      1.675e58, 2.376e58, 3.3662e58, 4.7646e58, 6.768e58, 9.6176e58, 1.36454e59, 1.9335e59, 2.737e59, 3.88514e59,
      5.52206e59, 7.83632e59, 1.110554e60, 1.572238e60, 2.23e60, 3.17e60, 4.5e60, 6.378e60, 9.032e60, 1.28e61,
      1.8202e61, 2.5842e61, 3.6636e61, 5.188e61, 7.3474e61, 1.04504e62, 1.48396e62, 2.10414e62, 2.98002e62, 4.21716e62,
    ],
  },
  {
    id: 'dark_containment',
    name: 'Dark Containment',
    maxLevel: 25,
    perLevel: 0.05,
    multiplicative: 1,
    prices: [
      3.948e36, 2.1464e37, 1.12108e38, 5.61006e38, 2.688e39, 1.3698e40, 7.2822e40, 3.90244e41, 2.094e42, 1.128e43,
      6.073e43, 3.26736e44, 1.756782e45, 9.44e45, 5.0708e46, 2.72256e47, 1.461404e48, 7.874e48, 4.2388e49, 2.28048e50,
      1.226162e51, 6.59e51, 3.5392e52, 1.90024e53, 1.02e54,
    ],
  },
  {
    id: 'atomic_purification',
    name: 'Atomic Purification',
    maxLevel: 50,
    perLevel: 0.1,
    multiplicative: 1,
    prices: [
      4.33836e44, 8.46716e44, 1.639626e45, 3.198e45, 6.196e45, 1.2072e46, 2.3416e46, 4.5574e46, 8.8482e46, 1.72016e47,
      3.34314e47, 6.49164e47, 1.26302e48, 2.45e48, 4.772e48, 9.24e48, 1.802e49, 3.488e49, 6.8056e49, 1.3182e50,
      2.56978e50, 4.98164e50, 9.70212e50, 1.882494e51, 3.662e51, 7.114e51, 1.3824e52, 2.6874e52, 5.2164e52, 1.01528e53,
      1.96814e53, 3.83506e53, 7.42456e53, 1.44846e54, 2.804e54, 5.47e54, 1.0598e55, 2.0654e55, 4.005e55, 7.7972e55,
      1.51338e56, 2.94322e56, 5.7182e56, 1.110792e57, 2.16e57, 4.192e57, 8.162e57, 1.5814e58, 3.0826e58, 5.9652e58,
    ],
  },
  {
    id: 'multi_layering',
    name: 'Multiversal Layering',
    maxLevel: 3,
    perLevel: 10,
    multiplicative: 1,
    prices: [2.2392e50, 8.87084e56, 3.514e63],
  },
  {
    id: 'timeline_diversion',
    name: 'Timeline Diversion',
    maxLevel: 50,
    perLevel: 0.02,
    multiplicative: 1,
    prices: [
      2.3596e43, 4.524e43, 8.6036e43, 1.64888e44, 3.13708e44, 6.0096e44, 1.143834e45, 2.19e45, 4.17e45, 7.982e45,
      1.5206e46, 2.9092e46, 5.544e46, 1.06028e47, 2.0213e47, 3.8641e47, 7.36932e47, 1.40823e48, 2.686e48, 5.132e48,
      9.794e48, 1.8702e49, 3.5708e49, 6.8158e49, 1.30176e50, 2.48382e50, 4.74558e50, 9.05152e50, 1.729972e51, 3.298e51,
      6.306e51, 1.202e52, 2.2988e52, 4.3802e52, 8.38e52, 1.59618e53, 3.05464e53, 5.81656e53, 1.113454e54, 2.12e54,
      4.058e54, 7.724e54, 1.4794e55, 2.8144e55, 5.3922e55, 1.02556e56, 1.9654e56, 3.7371e56, 7.16356e56, 1.361764e57,
    ],
  },
  {
    id: 'wormhole_dampening',
    name: 'Wormhole Dampening',
    maxLevel: 25,
    perLevel: 0.02,
    multiplicative: 1,
    prices: [
      9.398e48, 3.1672e49, 1.06524e50, 3.57692e50, 1.19949e51, 4.024e51, 1.3556e52, 4.5578e52, 1.53e53, 5.12962e53,
      1.723058e54, 5.802e54, 1.95e55, 6.544e55, 2.19362e56, 7.37672e56, 2.482e57, 8.342e57, 2.799e58, 9.3806e58,
      3.15786e59, 1.0625e60, 3.568e60, 1.197e61, 4.0112e61,
    ],
  },
  {
    id: 'eggsistor',
    name: 'Eggsistor Miniturization',
    maxLevel: 100,
    perLevel: 0.05,
    multiplicative: 1,
    prices: [
      1.7914e49, 2.4974e49, 3.4728e49, 4.819e49, 6.6772e49, 9.3024e49, 1.29398e50, 1.79602e50, 2.48894e50, 3.46498e50,
      4.82126e50, 6.6935e50, 9.27732e50, 1.290588e51, 1.79631e51, 2.494e51, 3.458e51, 4.806e51, 6.692e51, 9.296e51,
      1.289e52, 1.7902e52, 2.4932e52, 3.4642e52, 4.804e52, 6.6672e52, 9.2886e52, 1.29092e53, 1.79058e53, 2.48286e53,
      3.46022e53, 4.81036e53, 6.67366e53, 9.24588e53, 1.288966e54, 1.792428e54, 2.488e54, 3.446e54, 4.802e54, 6.678e54,
      9.27e54, 1.2846e55, 1.7884e55, 2.4884e55, 3.4548e55, 4.7884e55, 6.6612e55, 9.2714e55, 1.2875e56, 1.78482e56,
      2.48098e56, 3.45424e56, 4.79808e56, 6.65256e56, 9.24004e56, 1.28689e57, 1.788022e57, 2.48e57, 3.442e57, 4.794e57,
      6.662e57, 9.242e57, 1.2816e58, 1.786e58, 2.4828e58, 3.4446e58, 4.7722e58, 6.6528e58, 9.2514e58, 1.28378e59,
      1.77882e59, 2.47816e59, 3.44714e59, 4.7846e59, 6.6305e59, 9.2307e59, 1.284382e60, 1.783144e60, 2.472e60, 3.438e60,
      4.786e60, 6.646e60, 9.212e60, 1.2806e61, 1.7828e61, 2.4764e61, 3.4336e61, 4.7692e61, 6.6422e61, 9.2286e61,
      1.2798e62, 1.77612e62, 2.47446e62, 3.439e62, 4.77008e62, 6.61434e62, 9.21798e62, 1.281476e63, 1.777858e63,
      2.464e63,
    ],
  },
  {
    id: 'micro_coupling',
    name: 'Graviton Coupling',
    maxLevel: 5,
    perLevel: 1,
    multiplicative: 0,
    prices: [3.9616e43, 1.0448e49, 2.748e54, 7.2138e59, 1.89056e65],
  },
  {
    id: 'neural_net_refine',
    name: 'Neural Net Refinement',
    maxLevel: 25,
    perLevel: 0.05,
    multiplicative: 1,
    prices: [
      2.60302e44, 1.651596e45, 1.0464e46, 6.6146e46, 4.1702e47, 2.646e48, 1.6764e49, 1.0597e50, 6.68096e50, 4.24e51,
      2.6856e52, 1.6977e53, 1.070338e54, 6.792e54, 4.3026e55, 2.71984e56, 1.714758e57, 1.088e58, 6.893e58, 4.35736e59,
      2.694e60, 1.743e61, 1.1043e62, 6.9808e62, 4.402e63,
    ],
  },
  {
    id: 'matter_reconfig',
    name: 'Matter Reconfiguration',
    maxLevel: 500,
    perLevel: 0.01,
    multiplicative: 1,
    prices: [
      1.583e52, 1.693e52, 1.8096e52, 1.9332e52, 2.0638e52, 2.2012e52, 2.3454e52, 2.501e52, 2.6742e52, 2.8582e52,
      3.0526e52, 3.2578e52, 3.4736e52, 3.7e52, 3.9512e52, 4.2244e52, 4.5138e52, 4.8198e52, 5.142e52, 5.4808e52,
      5.837e52, 6.242e52, 6.6724e52, 7.128e52, 7.609e52, 8.1152e52, 8.6468e52, 9.2218e52, 9.8606e52, 1.05384e53,
      1.12552e53, 1.2011e53, 1.2806e53, 1.36398e53, 1.45688e53, 1.55758e53, 1.66428e53, 1.77702e53, 1.89578e53,
      2.02056e53, 2.15222e53, 2.30156e53, 2.46018e53, 2.62812e53, 2.80534e53, 2.99186e53, 3.1877e53, 3.40026e53,
      3.63574e53, 3.88556e53, 4.14974e53, 4.42826e53, 4.72116e53, 5.02838e53, 5.37184e53, 5.74298e53, 6.13626e53,
      6.55172e53, 6.9893e53, 7.44906e53, 7.93572e53, 8.48624e53, 9.07094e53, 9.68984e53, 1.034294e54, 1.103022e54,
      1.17517e54, 1.253748e54, 1.340552e54, 1.432632e54, 1.52999e54, 1.632626e54, 1.740538e54, 1.853728e54, 1.980704e54,
      2.118e54, 2.262e54, 2.416e54, 2.576e54, 2.746e54, 2.926e54, 3.13e54, 3.344e54, 3.572e54, 3.814e54, 4.066e54,
      4.332e54, 4.622e54, 4.942e54, 5.282e54, 5.64e54, 6.02e54, 6.416e54, 6.834e54, 7.304e54, 7.808e54, 8.342e54,
      8.906e54, 9.5e54, 1.0124e55, 1.079e55, 1.1538e55, 1.2332e55, 1.3172e55, 1.406e55, 1.4992e55, 1.5972e55, 1.7046e55,
      1.8224e55, 1.9476e55, 2.0678e55, 2.2192e55, 2.3656e55, 2.5192e55, 2.6928e55, 2.8788e55, 3.0756e55, 3.2836e55,
      3.5024e55, 3.7324e55, 3.9782e55, 4.254e55, 4.5468e55, 4.8566e55, 5.1834e55, 5.5272e55, 5.888e55, 6.285e55,
      6.7198e55, 7.1808e55, 7.6682e55, 8.1816e55, 8.7214e55, 9.2874e55, 9.929e55, 1.06142e56, 1.13398e56, 1.2106e56,
      1.29128e56, 1.37598e56, 1.46684e56, 1.56852e56, 1.67644e56, 1.79062e56, 1.91104e56, 2.03772e56, 2.17066e56,
      2.3174e56, 2.47768e56, 2.6476e56, 2.82718e56, 3.0164e56, 3.21528e56, 3.42382e56, 3.66102e56, 3.91356e56,
      4.18102e56, 4.46336e56, 4.7606e56, 5.07274e56, 5.40858e56, 5.78336e56, 6.18116e56, 6.60194e56, 7.0457e56,
      7.51246e56, 8.00222e56, 8.54474e56, 9.13554e56, 9.76184e56, 1.042362e57, 1.112088e57, 1.185364e57, 1.262272e57,
      1.349884e57, 1.442976e57, 1.541544e57, 1.64559e57, 1.755112e57, 1.870114e57, 1.994258e57, 2.132e57, 2.28e57,
      2.434e57, 2.598e57, 2.77e57, 2.0914e58, 3.15e57, 3.368e57, 3.6e57, 3.844e57, 4.1e57, 4.37e57, 4.654e57, 4.978e57,
      5.32e57, 5.684e57, 6.068e57, 6.47e57, 6.894e57, 7.354e57, 7.862e57, 8.402e57, 8.974e57, 9.578e57, 1.021e58,
      1.0966e58, 1.1616e58, 1.242e58, 1.327e58, 1.417e58, 1.5116e58, 1.611e58, 1.7162e58, 1.8352e58, 1.9616e58,
      2.0956e58, 2.2368e58, 2.3856e58, 2.5416e58, 2.7114e58, 2.899e58, 3.0982e58, 3.3088e58, 3.5308e58, 3.7644e58,
      4.0092e58, 4.2942e58, 4.5794e58, 4.8928e58, 5.224e58, 5.573e58, 5.9394e58, 6.3278e58, 6.7668e58, 7.233e58,
      7.7264e58, 8.247e58, 8.795e58, 9.37e58, 9.9972e58, 1.06892e59, 1.14234e59, 1.21996e59, 1.30178e59, 1.3878e59,
      1.47804e59, 1.57938e59, 1.68844e59, 1.80402e59, 1.92606e59, 2.05462e59, 2.18964e59, 2.3332e59, 2.49502e59,
      2.66684e59, 2.8487e59, 3.04056e59, 3.24244e59, 3.45434e59, 3.68616e59, 3.94128e59, 4.21188e59, 4.49792e59,
      4.79942e59, 5.11638e59, 5.44882e59, 5.82346e59, 6.22552e59, 6.65144e59, 7.10122e59, 7.57488e59, 8.0724e59,
      8.60304e59, 9.19956e59, 9.8329e59, 1.05031e60, 1.121012e60, 1.195398e60, 1.273466e60, 1.359166e60, 1.45321e60,
      1.55294e60, 1.658356e60, 1.769456e60, 1.886242e60, 2.008e60, 2.148e60, 2.296e60, 2.452e60, 2.618e60, 2.792e60,
      2.976e60, 3.172e60, 3.392e60, 3.626e60, 3.872e60, 4.134e60, 4.408e60, 4.694e60, 5.012e60, 5.394e60, 5.726e60,
      6.114e60, 6.524e60, 6.954e60, 7.406e60, 7.918e60, 8.464e60, 9.042e60, 9.652e60, 1.0296e61, 1.0972e61, 1.1696e61,
      1.2506e61, 1.3368e61, 1.4278e61, 1.5238e61, 1.6248e61, 1.7308e61, 1.8478e61, 1.9756e61, 2.1112e61, 2.2542e61,
      2.4052e61, 2.5636e61, 2.73e61, 2.9192e61, 3.1206e61, 3.3338e61, 3.5588e61, 3.7958e61, 4.0446e61, 4.3126e61,
      4.6116e61, 4.9286e61, 5.2642e61, 5.618e61, 5.99e61, 6.3804e61, 6.8134e61, 7.2844e61, 7.7838e61, 8.3114e61,
      8.8672e61, 9.4514e61, 1.00652e62, 1.07638e62, 1.1506e62, 1.22918e62, 1.31212e62, 1.39944e62, 1.49112e62,
      1.59018e62, 1.70034e62, 1.81724e62, 1.94088e62, 2.07124e62, 2.20834e62, 2.35218e62, 2.51224e62, 2.68588e62,
      2.86992e62, 3.06434e62, 3.26916e62, 3.4844e62, 3.71124e62, 3.96878e62, 4.24234e62, 4.53196e62, 4.83764e62,
      5.15936e62, 5.49712e62, 5.86336e62, 6.26944e62, 6.70028e62, 7.15592e62, 7.6363e62, 8.14146e62, 8.7114e62,
      9.26312e62, 9.90318e62, 1.058146e63, 1.129798e63, 1.205272e63, 1.28457e63, 1.36842e63, 1.463358e63, 1.564196e63,
      1.670934e63, 1.783576e63, 1.902116e63, 2.026e63, 2.162e63, 2.312e63, 2.506e63, 2.638e63, 2.816e63, 3.002e63,
      3.196e63, 3.416e63, 3.652e63, 3.902e63, 4.166e63, 4.444e63, 4.736e63, 5.046e63, 5.396e63, 5.768e63, 6.16e63,
      6.576e63, 7.012e63, 7.472e63, 7.972e63, 8.524e63, 9.108e63, 9.728e63, 1.038e64, 1.1066e64, 1.1784e64, 1.2594e64,
      1.3464e64, 1.4384e64, 1.5358e64, 1.6382e64, 1.7458e64, 1.8604e64, 1.9894e64, 2.1264e64, 2.2714e64, 2.4244e64,
      2.5854e64, 2.7542e64, 2.9392e64, 3.1426e64, 3.3584e64, 3.5864e64, 3.8268e64, 4.0796e64, 4.3446e64, 4.6436e64,
      4.964e64, 5.3036e64, 5.6622e64, 6.0398e64, 6.4364e64, 6.86e64, 7.3356e64, 7.8404e64, 8.3748e64, 8.9384e64,
      9.5314e64, 1.01538e65, 1.08378e65, 1.15876e65, 1.23826e65, 1.3223e65, 1.41088e65, 1.50398e65, 1.60162e65,
      1.71214e65, 1.8303e65, 1.95546e65, 2.0876e65, 2.22674e65, 2.37286e65, 2.5294e65, 2.70474e65, 2.89086e65,
      3.08776e65, 3.29548e65, 3.51398e65, 3.74326e65, 3.9961e65, 4.2725e65, 4.56556e65, 4.87526e65, 5.20164e65,
      5.54466e65, 5.90434e65, 6.31302e65, 6.74856e65, 7.2098e65, 7.69678e65, 8.20944e65, 8.74782e65, 9.32644e65,
      9.97278e65, 1.065882e66, 1.138452e66, 1.21499e66, 1.295498e66, 1.379972e66, 1.473442e66, 1.575328e66, 1.68334e66,
      1.797478e66, 1.91774e66, 2.044e66, 2.176e66,
    ],
  },
  {
    id: 'timeline_splicing',
    name: 'Timeline Splicing',
    maxLevel: 1,
    perLevel: 10,
    multiplicative: 1,
    prices: [1.6564e67],
  },
  {
    id: 'hyper_portalling',
    name: 'Hyper Portalling',
    maxLevel: 25,
    perLevel: 0.05,
    multiplicative: 1,
    prices: [
      7.82902e56, 1.935996e57, 4.786e57, 1.1834e58, 2.9254e58, 7.2296e58, 1.7863e59, 4.4125e59, 1.089682e60, 2.69e60,
      6.64e60, 1.6382e61, 4.0408e61, 9.9924e61, 2.47074e62, 6.10832e62, 1.509888e63, 3.732e63, 9.22e63, 2.2774e64,
      5.6242e64, 1.38854e65, 3.42706e65, 8.45572e65, 2.086e66,
    ],
  },
  {
    id: 'relativity_optimization',
    name: 'Relativity Optimization',
    maxLevel: 10,
    perLevel: 0.1,
    multiplicative: 1,
    prices: [
      1.4474e55, 1.86864e56, 2.412e57, 3.1094e58, 4.00806e59, 5.164e60, 6.6504e61, 8.56162e62, 1.102e64, 1.41792e65,
    ],
  },
];

export function calculateMaxFarmCostMissing(farm: ei.Backup.ISimulation): number {
  const researchWithCosts = farm.commonResearch!.map((item, row) => {
    const found = fullResearchCostsList.find(element => item.id == element.id);
    return { ...item, ...found };
  });

  let missing = 0;
  for (const el of researchWithCosts) {
    if (el.level != el.maxLevel) {
      missing += el.prices!.slice(el.level ?? 0, el.maxLevel).reduce((total, cost) => total + cost);
    }
  }
  return missing;
}
export function calculateTSCost(farm: ei.Backup.ISimulation): number {
  const TSWithCosts = farm
    .commonResearch!.filter(f => f.id == 'timeline_splicing')
    .map((item, row) => {
      const found = fullResearchCostsList.find(element => item.id == element.id);
      return { ...item, ...found };
    })[0];

  return TSWithCosts.maxLevel == TSWithCosts.level ? 0 : TSWithCosts.prices![0];
}
